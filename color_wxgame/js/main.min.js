var egret=window.egret,__reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function h(t){try{o(n.next(t))}catch(e){r(e)}}function a(t){try{o(n["throw"](t))}catch(e){r(e)}}function o(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(h,a)}o((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,r&&(h=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(h=h.call(r,i[1])).done)return h;switch(r=0,h&&(i=[0,h.value]),i[0]){case 0:case 1:h=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(h=o.trys,!(h=h.length>0&&h[h.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!h||i[1]>h[0]&&i[1]<h[3])){o.label=i[1];break}if(6===i[0]&&o.label<h[1]){o.label=h[1],h=i;break}if(h&&o.label<h[2]){o.label=h[2],o.ops.push(i);break}h[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(n){i=[6,n],r=0}finally{s=h=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,r,h,a,o={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},BaseUILayer=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.init,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.remove,e),e}return __extends(e,t),e.prototype.init=function(){console.log("11")},e.prototype.remove=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.init,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},e}(eui.UILayer);__reflect(BaseUILayer.prototype,"BaseUILayer");var BaseDisplayOC=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.init,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.remove,e),e}return __extends(e,t),e.prototype.init=function(){console.log("11")},e.prototype.remove=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.init,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},e}(egret.DisplayObjectContainer);__reflect(BaseDisplayOC.prototype,"BaseDisplayOC");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.w=680,e.r=8,e.once(egret.Event.ADDED_TO_STAGE,e.createView,e),e}return __extends(e,t),e.prototype.createView=function(){var t=this.stage.stageWidth,e=this.stage.stageHeight,i=new egret.Shape;i.graphics.beginFill(2236962),i.graphics.drawRect(0,0,t,e),i.graphics.endFill(),this.addChild(i);var n=new NetBitmap("resource/game_res/loadingbg.jpg");this.addChild(n),n.width=t,n.height=e;var s=this.r,r=this.w,h=new egret.Shape;h.width=r,h.height=2*s,h.x=(this.stage.stageWidth-h.width)/2,h.y=this.stage.stageHeight-h.height-40,h.graphics.beginFill(14540253,.3),h.graphics.moveTo(s,0),h.graphics.lineTo(r-s,0),h.graphics.drawArc(r-s,s,s,-Math.PI/2,Math.PI/2),h.graphics.lineTo(s,2*s),h.graphics.drawArc(s,s,s,Math.PI/2,-Math.PI/2),h.graphics.lineTo(s,0),h.graphics.endFill(),this.addChild(h);var a=new egret.Shape;a.width=r,a.height=2*s,a.x=(this.stage.stageWidth-a.width)/2,a.y=this.stage.stageHeight-a.height-40,a.graphics.beginFill(3536895),a.graphics.moveTo(s,0),a.graphics.lineTo(r-s,0),a.graphics.drawArc(r-s,s,s,-Math.PI/2,Math.PI/2),a.graphics.lineTo(s,2*s),a.graphics.drawArc(s,s,s,Math.PI/2,-Math.PI/2),a.graphics.lineTo(s,0),a.graphics.endFill(),this.addChild(a),this.shapeProgress=new egret.Sprite,this.shapeProgress.width=r,this.shapeProgress.height=2*s,this.shapeProgress.anchorOffsetX=this.shapeProgress.width,this.shapeProgress.x=(this.stage.stageWidth-this.shapeProgress.width)/2,this.shapeProgress.y=this.stage.stageHeight-this.shapeProgress.height-40,this.shapeProgress.graphics.beginFill(3492605),this.shapeProgress.graphics.moveTo(s,0),this.shapeProgress.graphics.lineTo(r-s,0),this.shapeProgress.graphics.drawArc(r-s,s,s,-Math.PI/2,Math.PI/2),this.shapeProgress.graphics.lineTo(s,2*s),this.shapeProgress.graphics.drawArc(s,s,s,Math.PI/2,-Math.PI/2),this.shapeProgress.graphics.lineTo(s,0),this.shapeProgress.graphics.endFill(),this.shapeProgress.mask=a,this.addChild(this.shapeProgress),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=this.stage.stageHeight-100,this.textField.width=this.stage.stageWidth,this.textField.height=50,this.textField.textAlign="center",this.textField.text="资源加载中..."},e.prototype.onProgress=function(t,e){var i=t*this.w/e;this.shapeProgress.x=i+(this.stage.stageWidth-this.shapeProgress.width)/2},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}var h=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(n,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(n,generateEUI2)},h)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var o=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(n,generateJSON.paths[t])},this):RES.getResByUrl(o,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(n,generateJSON.paths[t])},h)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(n,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var GameScene=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){console.log("GameScene主场景加载"),this.width=this.stage.stageWidth,this.height=this.stage.stageHeight,this.bg=new BackgroundContainer,this.addChild(this.bg),this.gc=new GameContainer,this.addChild(this.gc),this.pc=new PopContainer,this.addChild(this.pc)},e}(BaseDisplayOC);__reflect(GameScene.prototype,"GameScene");var BaseEUIGroup=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.init,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.remove,e),e}return __extends(e,t),e.prototype.init=function(){console.log("11")},e.prototype.remove=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.init,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},e}(eui.Group);__reflect(BaseEUIGroup.prototype,"BaseEUIGroup");var BaseShape=function(t){function e(e,i){var n=t.call(this)||this;return n.width=e,n.height=i,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.init,n),n.addEventListener(egret.Event.REMOVED_FROM_STAGE,n.remove,n),n}return __extends(e,t),e.prototype.init=function(){},e.prototype.remove=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.init,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},e}(egret.Shape);__reflect(BaseShape.prototype,"BaseShape");var BaseSprite=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.init,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.remove,e),e}return __extends(e,t),e.prototype.init=function(){console.log("11")},e.prototype.remove=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.init,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},e}(egret.Sprite);__reflect(BaseSprite.prototype,"BaseSprite");var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,this.loadTheme()];case 2:return i.sent(),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadGroup("preload",1,t)];case 3:return i.sent(),this.stage.removeChild(t),[3,5];case 4:return e=i.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,i){var n=new eui.Theme("resource/default.thm.json",t.stage);n.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){this.addChild(new GameScene)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var NetBitmap=function(t){function e(e){var i=t.call(this)||this,n=new egret.ImageLoader;return n.crossOrigin="anonymous",n.once(egret.Event.COMPLETE,i.imgLoadHandler,i),n.load(e),i}return __extends(e,t),e.prototype.imgLoadHandler=function(t){var e=t.currentTarget,i=e.data,n=new egret.Texture;n._setBitmapData(i),this.texture=n},e}(egret.Bitmap);__reflect(NetBitmap.prototype,"NetBitmap");var Util=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},t}();__reflect(Util.prototype,"Util");var GameEvent=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var s=t.call(this,e,i,n)||this;return s._year=0,s}return __extends(e,t),e.DATE="事件名字",e}(egret.Event);__reflect(GameEvent.prototype,"GameEvent");var Data=function(){function t(){}return t.i=function(){return this.data?this.data:(this.data=new t,this.data)},t.data=null,t}();__reflect(Data.prototype,"Data");var BackgroundContainer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){console.log("BackgroundContainer已加载");var t=new NetBitmap("resource/game_res/loadingbg.jpg");this.addChild(t);var e=this.stage.stageWidth,i=this.stage.stageHeight,n=RES.getRes("bgParticle_png"),s=RES.getRes("bgParticle_json");this.particle=new particle.GravityParticleSystem(n,s),this.particle.x=e/2,this.particle.y=i/2,this.addChild(this.particle),this.particle.start(),t.width=e,t.height=i,this.createStaticStars()},e.prototype.createStaticStars=function(){for(var t=0;50>t;t++)this.createStar()},e.prototype.createStar=function(){var t=this.stage.stageWidth,e=this.stage.stageHeight,i=Util.createBitmapByName("bgParticle_png");i.x=Math.floor(Math.random()*(t-20)+10),i.y=Math.floor(Math.random()*(e-20)+10),i.width=Math.floor(5*Math.random()+1),i.height=i.width,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.width/2,i.scaleX=.01,i.scaleY=.01,this.addChild(i),egret.Tween.get(i,{loop:!0}).wait(Math.floor(4e3*Math.random())+3e3).to({scaleX:1,scaleY:1},Math.floor(1e3*Math.random())+500).wait(Math.floor(3500*Math.random())+3500).to({scaleX:.01,scaleY:.01},Math.floor(1e3*Math.random())+500).wait(Math.floor(3e3*Math.random())+4e3).to({scaleX:1,scaleY:1},Math.floor(1e3*Math.random())+500).wait(Math.floor(3500*Math.random())+3500).to({scaleX:.01,scaleY:.01},Math.floor(1e3*Math.random())+500).call(function(){})},e}(BaseUILayer);__reflect(BackgroundContainer.prototype,"BackgroundContainer");var About=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){var t=800,e=500,i=new eui.VerticalLayout;i.gap=10,i.paddingTop=15,i.paddingRight=15,i.paddingBottom=15,i.paddingLeft=15;var n=new eui.Group;n.width=t,n.height=e,n.layout=i,this.addChild(n);var s=new eui.Scroller;s.width=t,s.height=e,s.horizontalCenter=0,s.verticalCenter=-this.stage.stageHeight/2,s.viewport=n,this.addChild(s),s.verticalScrollBar.autoVisibility=!1,s.verticalScrollBar.visible=!1,n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),n.addChild(new eui.Label("任振东")),this.addChild(s),egret.Tween.get(s).to({verticalCenter:0},500,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(s)})},e}(BaseUILayer);__reflect(About.prototype,"About");var Game=function(t){function e(){var e=t.call(this)||this;return e.currentDeg=0,e}return __extends(e,t),e.prototype.init=function(){var t=this;console.log("Game已加载"),this.colorList=["violet","dyellow","blue","red","yellow","green"],this.currentColorIndex=0;var e=this.stage.stageWidth,i=this.stage.stageHeight;this.leftBtn=new egret.Sprite,this.leftBtn.touchEnabled=!0,this.leftBtn.width=270,this.leftBtn.height=500,this.leftBtn.x=-this.leftBtn.width,this.leftBtn.y=(i-this.leftBtn.height)/2,this.leftBtn.graphics.beginFill(11184810,.25),this.leftBtn.graphics.drawRoundRect(0,0,this.leftBtn.width,this.leftBtn.height,20),this.leftBtn.graphics.endFill(),this.addChild(this.leftBtn);var n=new eui.Group;n.width=this.leftBtn.width,n.height=this.leftBtn.height,this.leftBtn.addChild(n);var s=new eui.Label;s.text="Left",s.size=40,s.textColor=15658734,s.verticalCenter=0,s.horizontalCenter=0,n.addChild(s),this.rightBtn=new egret.Sprite,this.rightBtn.touchEnabled=!0,this.rightBtn.width=270,this.rightBtn.height=500,this.rightBtn.x=e,this.rightBtn.y=(i-this.rightBtn.height)/2,this.rightBtn.graphics.beginFill(11184810,.25),this.rightBtn.graphics.drawRoundRect(0,0,this.rightBtn.width,this.rightBtn.height,20),this.rightBtn.graphics.endFill(),this.addChild(this.rightBtn);var r=new eui.Group;r.width=this.rightBtn.width,r.height=this.rightBtn.height,this.rightBtn.addChild(r);var h=new eui.Label;h.text="Right",h.size=40,h.textColor=15658734,h.verticalCenter=0,h.horizontalCenter=0,r.addChild(h),egret.Tween.get(this.leftBtn).to({x:-30},500,egret.Ease.backOut).call(function(){console.log("左侧动画完成"),egret.Tween.removeTweens(t.leftBtn)}),egret.Tween.get(this.rightBtn).to({x:e-this.rightBtn.width+30},500,egret.Ease.backOut).call(function(){console.log("右侧动画完成"),egret.Tween.removeTweens(t.rightBtn)}),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.LeftBegin,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.RightBegin,this),this.circleGroup=new BaseEUIGroup,this.circleGroup.width=680,this.circleGroup.height=680,this.circleGroup.anchorOffsetX=this.circleGroup.width/2,this.circleGroup.anchorOffsetY=this.circleGroup.height/2,this.circleGroup.x=e/2,this.circleGroup.y=-i/2,this.addChild(this.circleGroup);var a=Util.createBitmapByName("circle6-sheet0_png");a.width=this.circleGroup.width,a.height=this.circleGroup.height,this.circleGroup.addChild(a),egret.Tween.get(this.circleGroup).to({y:i/2},500,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.circleGroup)})},e.prototype.LeftBegin=function(t){this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.LeftEnd,this),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.LeftEnd,this),this.leftBtn.alpha=.5},e.prototype.LeftEnd=function(t){this.leftBtn.alpha=1,this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.LeftEnd,this),this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.LeftEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE?console.log("点击无效"):t.type==egret.TouchEvent.TOUCH_END&&(console.log("点击有效"),this.leftRound())},e.prototype.RightBegin=function(t){this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.RightEnd,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.RightEnd,this),this.rightBtn.alpha=.5},e.prototype.RightEnd=function(t){this.rightBtn.alpha=1,this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.RightEnd,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.RightEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE?console.log("点击无效"):t.type==egret.TouchEvent.TOUCH_END&&this.RightRound()},e.prototype.beforeRemove=function(){var t=this,e=this.stage.stageWidth,i=this.stage.stageHeight;egret.Tween.get(this.leftBtn).to({x:-this.leftBtn.width},500,egret.Ease.backIn).call(function(){console.log("左侧移除完成"),egret.Tween.removeTweens(t.leftBtn),t.removeSelf()}),egret.Tween.get(this.rightBtn).to({x:e},500,egret.Ease.backIn).call(function(){console.log("右侧移除完成"),egret.Tween.removeTweens(t.rightBtn),t.removeSelf()}),egret.Tween.get(this.circleGroup).to({y:-i/2},500,egret.Ease.backIn).call(function(){console.log("顶部移除完成"),egret.Tween.removeTweens(t.circleGroup),t.removeSelf()})},e.prototype.removeSelf=function(){this.parent&&(this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.LeftBegin,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.RightBegin,this),this.removeChild(this.leftBtn),this.removeChild(this.rightBtn),this.removeChild(this.circleGroup),this.parent.removeChild(this),console.log("remove"))},e.prototype.leftRound=function(){var t=this;egret.Tween.removeTweens(this.circleGroup),-180==this.circleGroup.rotation&&(this.circleGroup.rotation=180),this.currentColorIndex=++this.currentColorIndex%6,this.currentDeg-=60,this.currentDeg<-180&&(this.currentDeg=360+this.currentDeg);var e=this.currentDeg;egret.Tween.get(this.circleGroup).to({rotation:e},200,egret.Ease.circInOut).call(function(){console.log(t.colorList[t.currentColorIndex],t.currentColorIndex,t.currentDeg,t.circleGroup.rotation)})},e.prototype.RightRound=function(){egret.Tween.removeTweens(this.circleGroup),180==this.circleGroup.rotation&&(this.circleGroup.rotation=-180),--this.currentColorIndex<0&&(this.currentColorIndex=6-Math.abs(this.currentColorIndex%6)),this.currentDeg=this.currentDeg+60,this.currentDeg>180&&(this.currentDeg=this.currentDeg-360),console.log(this.colorList[this.currentColorIndex],this.currentColorIndex,this.currentDeg,this.circleGroup.rotation);var t=this.currentDeg;egret.Tween.get(this.circleGroup).to({rotation:t},200,egret.Ease.circInOut).call(function(){})},e}(BaseUILayer);__reflect(Game.prototype,"Game");var GameContainer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){console.log("GameContainer已加载"),this.home=new Home(this),this.addChild(this.home)},e.prototype.createGame=function(){this.game=new Game,this.addChild(this.game)},e.prototype.createAbout=function(){return this.about?void this.addChild(this.about):(this.about=new About,void this.addChild(this.about))},e}(BaseUILayer);__reflect(GameContainer.prototype,"GameContainer");var Home=function(t){function e(e){var i=t.call(this)||this;return i.ballV=0,i.ballA=200,i._GameContainer=e,i}return __extends(e,t),e.prototype.init=function(){var t=this;console.log("Home已加载");var e=this.stage.stageWidth,i=this.stage.stageHeight,n=Util.createBitmapByName("circle6-sheet0_png");n.width=500,n.height=500,n.scaleX=.01,n.scaleY=.01,n.x=e/2,n.y=i/2-100,n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.alpha=.1,this.addChild(n),this.ball=new egret.Bitmap,this.ball.scaleX=.01,this.ball.scaleY=.01,this.ball.texture=RES.getRes("circle-violte_png"),this.ball.x=e/2,this.ball.y=i/2-200,this.ball.width=60,this.ball.height=60,this.ball.anchorOffsetX=this.ball.width/2,this.ball.anchorOffsetY=this.ball.height/2,this.addChild(this.ball),egret.Tween.get(n).wait(200).to({scaleX:1,scaleY:1,alpha:1},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(n),egret.Tween.get(n,{loop:!0}).wait(800).wait(50).to({rotation:60},300,egret.Ease.sineInOut).wait(1250).wait(50).to({rotation:180},300,egret.Ease.sineInOut).wait(1250).wait(50).to({rotation:120},300,egret.Ease.sineInOut).wait(1250).wait(50).to({rotation:180},300,egret.Ease.sineInOut).wait(1250).wait(50).to({rotation:0},300,egret.Ease.sineInOut).wait(1250)}),egret.Tween.get(this.ball).wait(200).to({scaleX:1,scaleY:1,alpha:1},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.ball),egret.Tween.get(t.ball,{loop:!0}).to({y:450},800,egret.Ease.sineIn).call(function(){t.ball.texture=RES.getRes("circle-green_png")}).to({y:i/2-200},800,egret.Ease.sineOut).call(function(){}).to({y:450},800,egret.Ease.sineIn).call(function(){t.ball.texture=RES.getRes("circle-red_png")}).to({y:i/2-200},800,egret.Ease.sineOut).call(function(){}).to({y:450},800,egret.Ease.sineIn).call(function(){t.ball.texture=RES.getRes("circle-yellow_png")}).to({y:i/2-200},800,egret.Ease.sineOut).call(function(){}).to({y:450},800,egret.Ease.sineIn).call(function(){t.ball.texture=RES.getRes("circle-red_png")}).to({y:i/2-200},800,egret.Ease.sineOut).call(function(){}).to({y:450},800,egret.Ease.sineIn).call(function(){t.ball.texture=RES.getRes("circle-violte_png")}).to({y:i/2-200},800,egret.Ease.sineOut).call(function(){})}),this.startBtn=Util.createBitmapByName("start-btn_png"),this.startBtn.touchEnabled=!0,this.startBtn.width=380,this.startBtn.height=124,this.startBtn.anchorOffsetX=this.startBtn.width/2,this.startBtn.anchorOffsetY=this.startBtn.height/2,this.startBtn.x=e/2,this.startBtn.y=i+this.startBtn.height/2,this.addChild(this.startBtn),this.startBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startBegin,this),egret.Tween.get(this.startBtn).to({y:i-this.startBtn.height/2},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.startBtn)}),this.aboutBtn=new egret.Sprite,this.aboutBtn.touchChildren=!1,this.aboutBtn.touchEnabled=!0,this.aboutBtn.width=190,this.aboutBtn.height=124,this.aboutBtn.graphics.beginFill(0,0),this.aboutBtn.graphics.drawRect(0,0,this.aboutBtn.width,this.aboutBtn.height),this.aboutBtn.graphics.endFill(),this.aboutBtn.anchorOffsetX=this.aboutBtn.width/2,this.aboutBtn.anchorOffsetY=this.aboutBtn.height/2,this.aboutBtn.x=-this.aboutBtn.width/2,this.aboutBtn.y=i-this.aboutBtn.height/2,this.addChild(this.aboutBtn);var s=Util.createBitmapByName("about_png");s.touchEnabled=!0,s.width=this.aboutBtn.height/2,s.height=this.aboutBtn.height/2,s.x=23,s.y=31,this.aboutBtn.addChild(s);var r=new eui.Label("关于");r.textColor=16777215,r.size=36,r.x=this.aboutBtn.width-20-2*r.size,r.y=(this.aboutBtn.height-r.size)/2+3,this.aboutBtn.addChild(r),this.aboutBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.aboutBegin,this),egret.Tween.get(this.aboutBtn).wait(100).to({x:this.aboutBtn.width/2},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.aboutBtn)}),this.shareBtn=new egret.Sprite,this.shareBtn.touchChildren=!1,this.shareBtn.touchEnabled=!0,this.shareBtn.width=190,this.shareBtn.height=124,this.shareBtn.graphics.beginFill(0,0),this.shareBtn.graphics.drawRect(0,0,this.shareBtn.width,this.shareBtn.height),this.shareBtn.graphics.endFill(),this.shareBtn.anchorOffsetX=this.shareBtn.width/2,this.shareBtn.anchorOffsetY=this.shareBtn.height/2,this.shareBtn.x=-this.shareBtn.width/2,this.shareBtn.y=i-1.5*this.shareBtn.height,this.addChild(this.shareBtn);var h=Util.createBitmapByName("share_png");h.width=this.shareBtn.height/2,h.height=this.shareBtn.height/2,h.x=20,h.y=31,this.shareBtn.addChild(h);var a=new eui.Label("分享");a.textColor=16777215,a.size=36,a.x=this.shareBtn.width-20-2*a.size,a.y=(this.shareBtn.height-a.size)/2,this.shareBtn.addChild(a),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.shareBegin,this),egret.Tween.get(this.shareBtn).wait(50).to({x:this.shareBtn.width/2},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.shareBtn)}),this.rankBtn=new egret.Sprite,this.rankBtn.touchChildren=!1,this.rankBtn.touchEnabled=!0,this.rankBtn.width=190,this.rankBtn.height=124,this.rankBtn.graphics.beginFill(0,0),this.rankBtn.graphics.drawRect(0,0,this.rankBtn.width,this.rankBtn.height),this.rankBtn.graphics.endFill(),this.rankBtn.anchorOffsetX=this.rankBtn.width/2,this.rankBtn.anchorOffsetY=this.rankBtn.height/2,this.rankBtn.x=-this.rankBtn.width/2,this.rankBtn.y=i-2.5*this.rankBtn.height,this.addChild(this.rankBtn);var o=Util.createBitmapByName("friend_png");o.width=this.rankBtn.height/2,o.height=this.rankBtn.height/2,o.x=20,o.y=31,this.rankBtn.addChild(o);var g=new eui.Label("排行");g.textColor=16777215,g.size=36,g.x=this.rankBtn.width-20-2*g.size,g.y=(this.rankBtn.height-g.size)/2+3,this.rankBtn.addChild(g),this.rankBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.rankBegin,this),egret.Tween.get(this.rankBtn).to({x:this.rankBtn.width/2},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.rankBtn)}),this.settingBtn=new egret.Sprite,this.settingBtn.touchChildren=!1,this.settingBtn.touchEnabled=!0,this.settingBtn.width=190,this.settingBtn.height=124,this.settingBtn.graphics.beginFill(0,0),this.settingBtn.graphics.drawRect(0,0,this.settingBtn.width,this.settingBtn.height),this.settingBtn.graphics.endFill(),this.settingBtn.anchorOffsetX=this.settingBtn.width/2,this.settingBtn.anchorOffsetY=this.settingBtn.height/2,this.settingBtn.x=e+this.settingBtn.width/2,this.settingBtn.y=i-2.5*this.settingBtn.height,this.addChild(this.settingBtn);var l=Util.createBitmapByName("setting_png");l.width=this.settingBtn.height/2,l.height=this.settingBtn.height/2,l.x=this.settingBtn.width-20-l.width,l.y=31,this.settingBtn.addChild(l);var c=new eui.Label("设置");c.textColor=16777215,c.size=36,c.x=20,c.y=(this.settingBtn.height-c.size)/2+2,this.settingBtn.addChild(c),this.settingBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.settingBegin,this),egret.Tween.get(this.settingBtn).to({x:e-this.settingBtn.width/2},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.settingBtn)}),this.gradeBtn=new egret.Sprite,this.gradeBtn.touchChildren=!1,this.gradeBtn.touchEnabled=!0,this.gradeBtn.width=190,this.gradeBtn.height=124,this.gradeBtn.graphics.beginFill(0,0),this.gradeBtn.graphics.drawRect(0,0,this.gradeBtn.width,this.gradeBtn.height),this.gradeBtn.graphics.endFill(),this.gradeBtn.anchorOffsetX=this.gradeBtn.width/2,this.gradeBtn.anchorOffsetY=this.gradeBtn.height/2,this.gradeBtn.x=e+this.gradeBtn.width/2,this.gradeBtn.y=i-1.5*this.gradeBtn.height,this.addChild(this.gradeBtn);var d=Util.createBitmapByName("table_png");d.width=this.gradeBtn.height/2,d.height=this.gradeBtn.height/2,d.x=this.gradeBtn.width-20-d.width,d.y=31,this.gradeBtn.addChild(d);var u=new eui.Label("难度");u.textColor=16777215,u.size=36,u.x=20,u.y=(this.gradeBtn.height-u.size)/2+3,this.gradeBtn.addChild(u),this.gradeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.gradeBegin,this),egret.Tween.get(this.gradeBtn).wait(50).to({x:e-this.gradeBtn.width/2},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.gradeBtn)}),this.suggestBtn=new egret.Sprite,this.suggestBtn.touchChildren=!1,this.suggestBtn.touchEnabled=!0,this.suggestBtn.width=190,this.suggestBtn.height=124,this.suggestBtn.graphics.beginFill(0,0),this.suggestBtn.graphics.drawRect(0,0,this.suggestBtn.width,this.suggestBtn.height),this.suggestBtn.graphics.endFill(),this.suggestBtn.anchorOffsetX=this.suggestBtn.width/2,this.suggestBtn.anchorOffsetY=this.suggestBtn.height/2,this.suggestBtn.x=e+this.suggestBtn.width/2,this.suggestBtn.y=i-this.suggestBtn.height/2,this.addChild(this.suggestBtn);var E=Util.createBitmapByName("menu_png");E.width=this.suggestBtn.height/2,E.height=this.suggestBtn.height/2,E.x=this.suggestBtn.width-20-E.width,E.y=31,this.suggestBtn.addChild(E);var p=new eui.Label("建议");p.textColor=16777215,p.size=36,p.x=20,p.y=(this.suggestBtn.height-p.size)/2,this.suggestBtn.addChild(p),this.suggestBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.suggestBegin,this),egret.Tween.get(this.suggestBtn).wait(100).to({x:e-this.suggestBtn.width/2},400,egret.Ease.backOut).call(function(){egret.Tween.removeTweens(t.suggestBtn)})},e.prototype.aboutBegin=function(){this.aboutBtn.scaleX=.9,this.aboutBtn.scaleY=.9,this.aboutBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.aboutEnd,this),this.aboutBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.aboutEnd,this)},e.prototype.aboutEnd=function(t){this.aboutBtn.scaleX=1,this.aboutBtn.scaleY=1,this.aboutBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.aboutEnd,this),this.aboutBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.aboutEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE||t.type==egret.TouchEvent.TOUCH_END&&(console.log("进入关于"),this.removeChildren(),this.parent.removeChild(this),this._GameContainer.createAbout())},e.prototype.shareBegin=function(){this.shareBtn.scaleX=.9,this.shareBtn.scaleY=.9,this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.shareEnd,this),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.shareEnd,this)},e.prototype.shareEnd=function(t){this.shareBtn.scaleX=1,this.shareBtn.scaleY=1,this.shareBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.shareEnd,this),this.shareBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.shareEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE||t.type==egret.TouchEvent.TOUCH_END&&console.log("进入分享")},e.prototype.rankBegin=function(){this.rankBtn.scaleX=.9,this.rankBtn.scaleY=.9,this.rankBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.rankEnd,this),this.rankBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.rankEnd,this)},e.prototype.rankEnd=function(t){this.rankBtn.scaleX=1,this.rankBtn.scaleY=1,this.rankBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.rankEnd,this),this.rankBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.rankEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE||t.type==egret.TouchEvent.TOUCH_END&&console.log("进入排行")},e.prototype.settingBegin=function(){this.settingBtn.scaleX=.9,this.settingBtn.scaleY=.9,this.settingBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.settingEnd,this),this.settingBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.settingEnd,this)},e.prototype.settingEnd=function(t){this.settingBtn.scaleX=1,this.settingBtn.scaleY=1,this.settingBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.settingEnd,this),this.settingBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.settingEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE||t.type==egret.TouchEvent.TOUCH_END&&console.log("进入设置")
},e.prototype.gradeBegin=function(){this.gradeBtn.scaleX=.9,this.gradeBtn.scaleY=.9,this.gradeBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.gradeEnd,this),this.gradeBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.gradeEnd,this)},e.prototype.gradeEnd=function(t){this.gradeBtn.scaleX=1,this.gradeBtn.scaleY=1,this.gradeBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.gradeEnd,this),this.gradeBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.gradeEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE||t.type==egret.TouchEvent.TOUCH_END&&console.log("进入难度等级")},e.prototype.suggestBegin=function(){this.suggestBtn.scaleX=.9,this.suggestBtn.scaleY=.9,this.suggestBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.suggestEnd,this),this.suggestBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.suggestEnd,this)},e.prototype.suggestEnd=function(t){this.suggestBtn.scaleX=1,this.suggestBtn.scaleY=1,this.suggestBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.suggestEnd,this),this.suggestBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.suggestEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE||t.type==egret.TouchEvent.TOUCH_END&&console.log("进入建议")},e.prototype.startBegin=function(){this.startBtn.scaleX=.9,this.startBtn.scaleY=.9,this.startBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.startEnd,this),this.startBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.startEnd,this)},e.prototype.startEnd=function(t){this.startBtn.scaleX=1,this.startBtn.scaleY=1,this.startBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.startEnd,this),this.startBtn.removeEventListener(egret.TouchEvent.TOUCH_END,this.startEnd,this),t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE||t.type==egret.TouchEvent.TOUCH_END&&(console.log("进入游戏"),this.removeChildren(),this.parent.removeChild(this),this._GameContainer.createGame())},e}(BaseUILayer);__reflect(Home.prototype,"Home");var PopContainer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){this.touchEnabled=!0,this.touchThrough=!0,console.log("PopContainer已加载")},e}(BaseUILayer);__reflect(PopContainer.prototype,"PopContainer"),window.Main=Main;